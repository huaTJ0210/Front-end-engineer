### 属性描述对象

> JavaScript内部提供了一个数据结构用来描述对象的属性，控制其行为；

```JavaScript
// (1) 属性描述对象：元属性
  var des = { 
    value: 123, // 属性的值
    writable: false, // 属性是否可以改变
    enumerable: true, // 如果为false：for...in及Object.keys()会跳过该属性
    configurable: false, // 控制属性描述对象的可写性
    get: undefined, 
    set: undefined,
  };
```

#### 1、 Object.getOwnPropertyDescriptor()

```JavaScript
var obj = { p: 'a' };

Object.getOwnPropertyDescriptor(obj, 'p')
// Object { value: "a",
//   writable: true,
//   enumerable: true,
//   configurable: true
// }
```

#### 2、Object.defineProperty()

```javascript
var obj = Object.defineProperty({}, 'p', {
  value: 123,
  writable: false,
  enumerable: true,
  configurable: false
});

obj.p // 123

obj.p = 246;
obj.p // 123 :属性不可写
```

#### 3、存储器

```JavaScript
var obj = Object.defineProperty({}, 'p', {
  get: function () {
    return 'getter';
  },
  set: function (value) {
    console.log('setter: ' + value);
  }
});

// 存储器的另外一种写法

obj.p // "getter"
obj.p = 123 // "setter: 123"

var obj = {
  get p() {
    return 'getter';
  },
  set p(value) {
    console.log('setter: ' + value);
  }
}
```

#### 4、对象的拷贝

> 将一个对象上的属性拷贝到另外一个对象上

```javascript
var extend = function (to, from) {
  for (var property in from) {
    if (!from.hasOwnProperty(property)) continue;
    Object.defineProperty(
      to,
      property,
      Object.getOwnPropertyDescriptor(from, property)
    );
  }

  return to;
}

extend({}, { get a(){ return 1 } })
// { get a(){ return 1 } })
```

#### 5、控制对象的状态

> 有时需要冻结对象的读写状态，防止对象被改变。JavaScript 提供了三种冻结方法，最弱的一种是`Object.preventExtensions`，其次是`Object.seal`，最强的是`Object.freeze`